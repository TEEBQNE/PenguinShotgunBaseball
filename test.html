<!DOCTYPE HTML>
<html lang="en">
<head>
	<title>Active streamer lobbies</title>
	 <link rel="stylesheet" href="test.css">
	 <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	 <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
	 <script>
	 function sortList() {
	 
	 	// get the list
	 	var ul = $("#myUL:first");
	 	
	 	// get the element of the list
	 	var list = document.getElementById("myUL");
	 	
	 	// get all viewer counts
	 	var elements = list.querySelectorAll("#viewerCount");
	 	
	 	// throw viewer counts in an array
	 	var arr = $.makeArray(elements);
	
		// sort the viewercounts by numerical values 	
	 	arr.sort(function(a, b) {
    		var textA = +$(a).text();
    		var textB = +$(b).text();

    		if (textA > textB) return -1;
    		if (textA < textB) return 1;

    		return 0;
		});
		
		// empty the list
	 	ul.empty();

		// fill the list back up by what is returned by the new array
		$.each(arr, function() {
    		ul.append(this.parentNode.parentNode);
		});
	}
	 
	  window.onload = sortList;
	  
	  </script>
</head>

<body>

<!--example of iframe for embedded (switch out tfuea with username when generating
player id
<iframe  
	src="https://player.twitch.tv/?channel=tfueÃ¥" 
	scrolling="no"
</iframe>
-->
<h2>Active Streaming Lobbies</h2>
<!-- info here will be generated and pulled from the mysql table
each user info will be pulled from the table. It is initially put there
when a streamer creates a lobby and is deleted once they either quit the unity
project or stop streaming-->
<input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for a streamer.." title="Type in a name">

<ul id="myUL">
<div class="container">
  <li>
  	<div class="username"><a href="#"><span>Name1</span></a></div>
  	<div class = "userPicture"><img src="https://secure.webtoolhub.com/static/resources/icons/set47/f9a9f6cc.png"></div>
  	<div id="viewerCount" class="viewerCount"><p><span>100</span></p>
  </li>
</div>
  
<div class="container">
  <li>
  	<div class="username"><a href="#"><span>otherName</span></a></div>
  	<div class = "userPicture"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSdKDNI_-Y1qqzRbwTpCvifz_Qb5LfQkrHliD7iHE4SS0DmWgpCJA"></div>
  	<div id="viewerCount" class="viewerCount"><p><span>2</span></p>
  </li>
</div>

<div class="container">
  <li>
  	<div class="username"><a href="#"><span>testWords</span></a></div>	
  	<div class = "userPicture"><img src="https://vignette.wikia.nocookie.net/blogclan-2/images/b/b9/Random-image-15.jpg"></div>
  	<div id="viewerCount" class="viewerCount"><p><span>0</span></p>
  </li>
</div>
  
<div class="container">
  <li>
 	 <div class="username"><a href="#"><span>English</span></a></div>
  	<div class = "userPicture"><img src="https://ichef.bbci.co.uk/news/660/cpsprodpb/37B5/production/_89716241_thinkstockphotos-523060154.jpg"></div>
  	<div id="viewerCount" class="viewerCount"><p><span>51</span></p>	
  </li>
</div>

<div class="container">
  <li>
  	<div class="username"><a href="#"><span>What</span></a></div>
  	<div class = "userPicture"><img src="https://www.newton.ac.uk/files/covers/968361.jpg"></div>
  	<div id="viewerCount" class="viewerCount"><p><span>23</span></p>	
  </li>
</div>
  
<div class="container">
  <li>
  	<div class="username"><a href="#"><span>EarlyClock</span></a></div>
  	<div class = "userPicture"><img src="https://wallpaperbrowse.com/media/images/750814.jpg"></div>
  	<div id="viewerCount" class="viewerCount"><p><span>51</span></p>
  </li>
</div>
  
<div class="container">
  <li>
  	<div class="username"><a href="#"><span>INedSleep</span></a></div>	
  	<div class = "userPicture"><img src="http://climatecommunication.yale.edu/wp-content/uploads/2017/04/001-stone-circle-jpeg-768x350.jpg"></div>
  	<div id="viewerCount" class="viewerCount"><p><span>1412</span></p>
  </li>
</div>
</ul>

<div id = "test"></div>

<script>
function myFunction() {
    var input, filter, ul, li, a, i, txtValue;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    ul = document.getElementById("myUL");
    li = ul.getElementsByTagName("li");
    for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByTagName("a")[0];
        txtValue = a.textContent || a.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
        } else {
            li[i].style.display = "none";
        }
    }
    sortList();
}
</script>

</body>
</html>